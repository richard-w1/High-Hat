{% extends 'layout.html' %}

{% block content %}
  <div class="card">
    <h2>All Sessions</h2>
    <table class="sessions-table">
      <thead>
        <tr><th>ID</th><th>Start</th><th>Description</th><th>Sessions</th><th>Actions</th></tr>
      </thead>
      <tbody>
        {% for s in sessions %}
          <tr>
            <td>S-{{ s.id }}</td>
            <td>{{ s.started_at.strftime('%Y-%m-%d %H:%M') }}</td>
            <td>{{ s.description }}</td>
            <td>{{ s.images|length }}</td>
            <td>
              <a class="btn tiny" href="{{ url_for('session_detail', session_id=s.id) }}">Open</a>
              <form method="POST" action="{{ url_for('delete_session', session_id=s.id) }}" style="display:inline" onsubmit="return confirm('Delete session S-{{ s.id }}?')">
                <button class="btn tiny">Delete</button>
              </form>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}
